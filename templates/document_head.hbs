<meta content="width=device-width, initial-scale=1.0" name="viewport" />
<link rel="preconnect" href="https://superhuman.zendesk.com">
<!-- Make the translated search clear button label available for use in JS -->
<!-- See buildClearSearchButton() in script.js -->
<script type="text/javascript">window.searchClearButtonLabelLocalized = "{{t 'search_clear'}}";</script>
<script type="text/javascript">
  // Load ES module polyfill only for browsers that don't support ES modules
  if (!(HTMLScriptElement.supports && HTMLScriptElement.supports('importmap'))) {
    document.write('<script async src="{{asset 'es-module-shims.js'}}"><\/script>');
  }
</script>
<script type="importmap">
{
  "imports": {
    "new-request-form": "{{asset 'new-request-form-bundle.js'}}",
    "flash-notifications": "{{asset 'flash-notifications-bundle.js'}}",
    "new-request-form-translations": "{{asset 'new-request-form-translations-bundle.js'}}",
    "shared": "{{asset 'shared-bundle.js'}}",
    "wysiwyg": "{{asset 'wysiwyg-bundle.js'}}"
  }
}
</script>
<script type="module">
  import { renderFlashNotifications } from "flash-notifications";
  
  const settings = {{json settings}};
  const closeLabel = {{json (t 'close')}}

  renderFlashNotifications(settings, closeLabel);
</script>
<script>
    // Add this code to the HEAD of your document
(function() {
  // Create a style element to hide the search completely until we're ready
  const style = document.createElement('style');
  style.textContent = `
    #sidebar form.sidebar-search {
      visibility: hidden !important;
      opacity: 0 !important;
    }
    #sidebar form.sidebar-search.ready {
      visibility: visible !important;
      opacity: 1 !important;
    }
  `;
  document.head.appendChild(style);
  
  // Function to pre-build the search bar
  function preRenderSearch() {
    const searchForm = document.querySelector('#sidebar form.sidebar-search');
    if (!searchForm || searchForm.classList.contains('ready')) return;
    
    // Setup basic properties
    searchForm.id = 'searchBar';
    searchForm.classList.add('sm');
    
    // Get the search input
    const searchInput = searchForm.querySelector('input[type="search"]');
    if (searchInput) {
      searchInput.className = 'search-query';
      searchInput.placeholder = 'Search';
      searchInput.setAttribute('aria-label', 'Search');
    }
    
    // Remove original elements
    searchForm.querySelectorAll('button:not(.clear-button), input[type="submit"], .search-button, .search-button-wrapper, .search-controls, .search-submit-wrapper, .search-results-column, .search-box-separator').forEach(el => {
      el.remove();
    });
    
    // Create new button
    const newButton = document.createElement('button');
    newButton.type = 'submit';
    newButton.innerHTML = '<span class="sr-only">Toggle Search</span><i class="icon-search"></i>';
    searchForm.appendChild(newButton);
    
    // Create results container
    const resultsContainer = document.createElement('div');
    resultsContainer.id = 'serp-dd';
    resultsContainer.className = 'sb';
    resultsContainer.style.display = 'none';
    resultsContainer.innerHTML = '<ul class="result"></ul>';
    searchForm.appendChild(resultsContainer);
    
    // Mark as ready (but don't show yet)
    searchForm.dataset.enhanced = 'true';
  }
  
  // Attempt to pre-render as early as possible
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', function() {
      preRenderSearch();
      // Reveal after a slight delay to ensure rendering is complete
      setTimeout(function() {
        const searchForm = document.querySelector('#sidebar form.sidebar-search');
        if (searchForm) searchForm.classList.add('ready');
      }, 100);
    });
  } else {
    // DOM already loaded
    preRenderSearch();
    setTimeout(function() {
      const searchForm = document.querySelector('#sidebar form.sidebar-search');
      if (searchForm) searchForm.classList.add('ready');
    }, 100);
  }
})();
</script>
<style>
    body .background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      opacity: 1 !important;
      transition: none !important;
    }
  </style>