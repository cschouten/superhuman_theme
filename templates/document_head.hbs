<meta content="width=device-width, initial-scale=1.0" name="viewport" />
<!-- Make the translated search clear button label available for use in JS -->
<!-- See buildClearSearchButton() in script.js -->
<script type="text/javascript">window.searchClearButtonLabelLocalized = "{{t 'search_clear'}}";</script>
<script type="text/javascript">
  // Load ES module polyfill only for browsers that don't support ES modules
  if (!(HTMLScriptElement.supports && HTMLScriptElement.supports('importmap'))) {
    document.write('<script async src="{{asset 'es-module-shims.js'}}"><\/script>');
  }
</script>
<script type="importmap">
{
  "imports": {
    "new-request-form": "{{asset 'new-request-form-bundle.js'}}",
    "flash-notifications": "{{asset 'flash-notifications-bundle.js'}}",
    "new-request-form-translations": "{{asset 'new-request-form-translations-bundle.js'}}",
    "shared": "{{asset 'shared-bundle.js'}}",
    "wysiwyg": "{{asset 'wysiwyg-bundle.js'}}",
    "docsWebSearch": "{{asset 'docsWebSearch.js'}}"
  }
}
</script>
<script type="module">
  import { renderFlashNotifications } from "flash-notifications";
  // import initDocsWebSearch from "docsWebSearch";

  const settings = {{json settings}};
  const closeLabel = {{json (t 'close')}};

  console.log("Main module script executing");
  renderFlashNotifications(settings, closeLabel);
  
  // This will log "undefined" if the function isn't defined properly
  // console.log("docsWebSearch function:", typeof initDocsWebSearch);
  
  // The function should be called automatically in the module,
  // but you can call it explicitly here if needed
  /* if (typeof initDocsWebSearch === 'function') {
    console.log("Calling initDocsWebSearch explicitly");
    initDocsWebSearch();
  } */
</script>
